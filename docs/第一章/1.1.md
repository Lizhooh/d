
## 服务端渲染介绍
服务器端渲染？它有什么魅力？和传统的服务端渲染方式又有什么不同？下面就为你一一解答。

## 什么是服务端渲染（SSR）？
服务端渲染简称：SSR。通常指的是把单页面应用的首屏 HTML 在服务端里进行渲染，而不是客户端。服务器渲染的应用程序也可以被认为是"同构"或"通用"应用，因为应用程序的大部分代码都可以在服务器和客户端上运行。


在以前，Web 应用的开发模式是：用户发起一个 url 请求，后端在路由处理，把数据库的数据通过模版的技术生成新的 HTML 文本，再响应给用户。

SSR 应用的行为大致也差不多，有几个不同的是：
* SSR 有前端与后端两个路由引擎。
* SSR 建立在单页面应用（SPA）上。
* SSR 的数据交互大多使用 REST JSON API，而不是渲染模版。

## 为什么使用服务端渲染？
服务端渲染是建立在单页面应用上的，如果不建立在单页面应用上，那么将与传统的后端渲染方式无差别。

对于单页面应用来说，服务端渲染很明显的有几个优势所在：
* **更好的 SEO，由于搜索引擎爬虫抓取工具可以直接查看完全渲染的页面。** 大家都知道 SPA 应用首屏只有一段简单的 HTML 代码，之后完全的依赖客户端进行渲染，连首次的数据也是通过 JSON API 获取。这就说明了 SPA 应用欠缺 SEO 的能力。
* **更快的首屏到达时间。** 特别是对于缓慢的网络情况或运行缓慢的设备。无需等待所有的 JavaScript 都完成下载并执行，才显示服务器渲染的标记，所以你的用户将会更快速地看到完整渲染的页面。
* **同构即未来**。想想前后端都是使用同一个语言，共享某些代码，无论是对于开发效率还是开发人员来说都是一个不错的挑战。

服务端渲染并不是一个万能药，它也有一些缺点：
* **开发条件所限。**浏览器特定的代码，只能在某些生命周期钩子函数中使用，一些外部扩展库需要特殊处理才能在服务器渲染应用程序中运行。
* **更多的服务端负载压力。** 与单页面应用相比，SSR 把首屏渲染放在了服务端，这意味着后端需要更多的 CPU 处理，并且 SSR 只能依赖于 Nodejs Server，本身 Nodejs Server 不擅长密集的 CPU 处理。因此如果你预料在高流量环境下使用，请准备相应的服务器负载，并明智地采用缓存策略。

## 何时使用服务端渲染？
像 Facebook、Netfix、阿里、腾讯、知乎、bibibi 等公司已经大量的应用服务端渲染架构。但是服务端架构可能仅仅适合于某些类型的应用，要确定一个项目是否可以定为服务端渲染架构，需要更多的考虑。

如果你的应用需要 SEO 的支持，并且是使用 React 构建的应用或者希望是有单页面应用那样的体验效果，那么你可能需要构建一个服务端渲染应用（SSR）。如果你的应用是属于后台管理应用，不需要 SEO 的支持，那么为了更好的管理代码，你可能不需要把它开发为服务端渲染应用。