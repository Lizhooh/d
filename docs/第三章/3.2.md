
## 页面渲染优化
React 服务端渲染的性能瓶颈更多的在于 renderToString() 函数，而 renderToString() 函数，的计算时间则取决于组件的编写情况。

对现有的组件进行优化，在一定程度上能够减少 renderToString() 的计算复杂度已经，计算时间。

## 渲染缓存
对于整个页面来说，如果输入的数据是一直，那么输出的 HTML 也应该是一直的，这时候可以考虑对整个页面就行渲染缓存。缓存的方法与传统的缓存方法一直。

通常，比较建议的是把渲染好的 HTML 缓存到 Redis 里，并设置过期时间，便于重新缓存。最简单的方式是使用字符串存储。

需要存储的内容有：url、参数、HTML。

```js
// 设置的时候
set <URL+params> xxx

// 设置过期时间
EXPlRE <URL+params> 1000

// 获取的时候
get <URL+params>
```

存储的键名称就是 URL 地址，可以简化为 Path。其外还需要存储参数，如果参数很多，可以对其做一次 MD5。


## 拆分渲染
拆分渲染支是一个小技巧，并不是一个好的解决方案。那么什么是拆分渲染？假设有 10 个页面，每个页面都由 header、body、footer 组成。而 header 和 footer 是一样的，是不是需要渲染 10 次呢？答案是不一定，可以使用拆分渲染，把 header、footer 抽离处理，只渲染一次，后面的都是重用它。
